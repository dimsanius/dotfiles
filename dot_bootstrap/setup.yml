# - Run current script: ansible-playbook ./setup.yml --ask-become-pass
# - For dev: install ansible-lint: pip install ansible-lint
- name: Machine setup
  hosts: localhost
  connection: local
  gather_facts: true
  tasks:
    - name: Main | Including SSH key install task
      ansible.builtin.include_tasks: tasks/ssh.yml

    - name: Main | Including package install task
      ansible.builtin.include_tasks: tasks/packages.yml

    - name: Main | Including GNOME Extension install task
      ansible.builtin.include_tasks: tasks/gnome_extensions.yml

    - name: Main | Including Oh My zsh install task
      ansible.builtin.include_tasks: tasks/omz.yml
    
    - name: Main | Including Oh My zsh addon install
      ansible.builtin.include_tasks: tasks/omz_addons.yml

    - name: Main | Including vim addon install task
      ansible.builtin.include_tasks: tasks/vim.yml

    - name: Main | Including Brave install task
      ansible.builtin.include_tasks: tasks/brave.yml

    - name: Main | Including VS Code install task
      ansible.builtin.include_tasks: tasks/vs_code.yml

    - name: Main | Including Sublime Text install task
      ansible.builtin.include_tasks: tasks/sublime_text.yml

    - name: Main | Including Zoxide install task
      ansible.builtin.include_tasks: tasks/zoxide.yml

    - name: Main | Including chezmoi fixup task
      ansible.builtin.include_tasks: tasks/chezmoi.yml

    # Ensure to run misc as a last task
    - name: Main | Including misc install task
      ansible.builtin.include_tasks: tasks/misc.yml
